define([],function(){var e=Backbone.View.extend({initialize:function(){_.bindAll(this);var e=this;this.component=this.options.component,this.build(),this.$handle=this.$el.find(".ui-slider-handle"),$(function(){e.$tooltip=e.$el.siblings(".slider-tooltip"),e.$input=e.$el.siblings(".slider-input"),e.$tooltip.css("left",e.$handle.css("left")).text(e.$el.slider("value")),e.$input.css("left",e.$handle.css("left")),e.$handle.dblclick(function(){e.$input.on("keydown",function(t){t.keyCode===13&&e.$input.blur()}),e.$input.removeClass("hide").focus()}),e.$input.on("blur",function(t){var n=_.inRange(parseFloat(e.$input.attr("value")),parseFloat(e.component.minValue),parseFloat(e.component.maxValue));$(this).addClass("hide"),e.$el.slider("value",n),e.onSliderChange(t,{value:n})})})},repositionFloats:function(){},build:function(){var e=this,t=this.$el,n=this.component;t.slider({animate:"fast",range:"min",max:n.maxValue,min:n.minValue,orientation:n.orientation,step:n.step,value:n.defaultValue,slide:function(t,n){e.onSliderChange.call(e,t,n)},start:function(){e.$tooltip.addClass("fade-in").removeClass("fade-out")},stop:function(){e.$tooltip.removeClass("fade-in").addClass("fade-out")}}),t.data("slider")._trigger("slide",{},{value:t.data("slider").value()})},onSliderChange:function(e,t){var n=this.component,r=this.component.func,i=this.component.value,s=this.component.behavior,o=t.value,u=this.$tooltip,a=this.$input,f=this.$handle,l=this.model.get("module"),c=_.chain(r.parameters).map(function(e){return e.value==="@VALUE@"?_.isUndefined(i)?o:i.split("|")[o]:e.value}).value();this.model.setSetting(this.component.name.replace(" ",""),o),l[r.name].apply(l,c);var h=this.$el.slider("option").step%1?o.toFixed(2):parseInt(o);_.isUndefined(u)||u.css("left",f.css("left")).text(h),_.isUndefined(a)||a.css("left",f.css("left")).addClass("hide").attr("value",h)},setValue:function(e){this.$el.slider("value",e),this.$el.data("slider")._trigger("slide",{},{value:this.$el.data("slider").value()})}});return e});