define([],function(){var e=Backbone.Model.extend({defaults:{bufferSize:512,sampleRate:44100},initialize:function(){_.bindAll(this)},load:function(){var e=this;env==="web"?("ss-settings"in localStorage?this.set(JSON.parse(localStorage.getItem("ss-settings"))):this.save(),this.format(),this.trigger("loaded")):env==="app"&&chrome.storage.sync.get("settings",function(t){e.set(t),e.format(),e.trigger("loaded")})},format:function(){var e=this.attributes;e.bufferSize=parseInt(e.bufferSize,10)},save:function(e){var t=this;env==="web"?(localStorage.setItem("ss-settings",JSON.stringify(this.attributes)),_.isFunction(e)&&e(this.attributes)):env==="app"&&chrome.storage.sync.set({settings:this.attributes},function(){_.isFunction(e)&&e(t.attributes)})}});return e});