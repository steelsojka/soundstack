define(["components/MediaStream","modules/BaseModule","components/MonoToStereo"],function(e,t,n){var r=t.extend({init:function(t,r){this._super.apply(this,arguments),this._enable=this.enable,this._disable=this.disable,this.isPlaying=!0,this.reference=!1;var i=this;this.mono2Stereo=new n(this.context),this.stream=new e(this.context,function(){i.stream.connect(i.mono2Stereo),i.connectToOutput(i.mono2Stereo),i.disable=function(){i.mono2Stereo.disconnectAll(),i._disable(),i.isPlaying=!1},i.enable=function(){i.connectToOutput(i.mono2Stereo),i._enable(),i.isPlaying=!0},typeof r=="function"&&r()})},destroy:function(){_.invoke(this.nodes,"disconnectAll"),this.stream=null,this.mono2Stereo=null,this.nodes=null}});return r});